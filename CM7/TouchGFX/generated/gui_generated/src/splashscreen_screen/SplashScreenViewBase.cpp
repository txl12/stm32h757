/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/splashscreen_screen/SplashScreenViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>

SplashScreenViewBase::SplashScreenViewBase() :
    fadeOutDemoNameEndedCallback(this, &SplashScreenViewBase::fadeOutDemoNameEndedCallbackHandler)
{
    __background.setPosition(0, 0, 1024, 600);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setXY(0, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_SELECTING_BACKGROUND_ID));
    add(background);

    demo_name_image.setXY(100, 160);
    demo_name_image.setBitmap(touchgfx::Bitmap(BITMAP_TITLE_DEMO_ID));
    add(demo_name_image);

    logo_background.setXY(85, 45);
    logo_background.setBitmap(touchgfx::Bitmap(BITMAP_TOUCHGFX_LOGO_ID));
    add(logo_background);
}

SplashScreenViewBase::~SplashScreenViewBase()
{

}

void SplashScreenViewBase::setupScreen()
{

}

void SplashScreenViewBase::fadeOutDemoNameEndedCallbackHandler(const touchgfx::FadeAnimator<touchgfx::Image>& comp)
{
    //ChangeScreenToSelection
    //When FadeOutDemoName completed change screen to SelectingMenu
    //Go to SelectingMenu with no screen transition
    application().gotoSelectingMenuScreenNoTransition();

}

void SplashScreenViewBase::afterTransition()
{
    //FadeOutLogo
    //When screen transition ends fade logo_background
    //Fade logo_background to alpha:0 with LinearIn easing in 500 ms (30 Ticks)
    logo_background.clearFadeAnimationEndedAction();
    logo_background.setFadeAnimationDelay(45);
    logo_background.startFadeAnimation(0, 30, touchgfx::EasingEquations::linearEaseIn);

    //FadeOutDemoName
    //When screen transition ends fade demo_name_image
    //Fade demo_name_image to alpha:0 with LinearIn easing in 500 ms (30 Ticks)
    demo_name_image.clearFadeAnimationEndedAction();
    demo_name_image.setFadeAnimationDelay(45);
    demo_name_image.startFadeAnimation(0, 30, touchgfx::EasingEquations::linearEaseIn);
    demo_name_image.setFadeAnimationEndedAction(fadeOutDemoNameEndedCallback);
}
